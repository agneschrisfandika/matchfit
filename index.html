<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Matchfit ID</title>

<!-- Bootstrap -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

<!-- AnimeJS -->
<script src="https://cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js"></script>

<!-- Fonts -->
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&family=Playfair+Display:wght@600&display=swap" rel="stylesheet">

<style>
:root{
  --bg:#0b0b0d;
  --card:#151518;
  --gold:#c8a85a;
  --soft:#888;
}
*{scroll-behavior:smooth}
body{
  background:var(--bg);
  color:#f1f1f1;
  font-family:'Inter',sans-serif;
}
h1,h2,h3{
  font-family:'Playfair Display',serif;
  color:var(--gold);
}
.navbar{
  background:rgba(10,10,12,.75);
  backdrop-filter: blur(10px);
}
.hero{
  min-height:100vh;
  display:flex;
  align-items:center;
  position:relative;
  overflow:hidden;
}
.hero-bg{
  position:absolute;
  inset:0;
  background:
    radial-gradient(circle at 70% 10%,#c8a85a22,transparent 45%),
    radial-gradient(circle at 20% 80%,#c8a85a18,transparent 50%);
}
.section{padding:100px 0}
.card{
  background:linear-gradient(180deg,#18181c,#101013);
  border-radius:20px;
  border:1px solid #222;
}
.btn-gold{
  background:linear-gradient(135deg,#e7c873,#b6913e);
  color:#000;
  border:none;
  padding:12px 28px;
}
.btn-gold:hover{opacity:.92}
.feature{
  transition:.4s;
}
.feature:hover{
  transform:translateY(-8px);
  border-color:var(--gold);
}
input{
  background:#0d0d10!important;
  border:1px solid #333!important;
  color:#fff!important;
}
input:focus{border-color:var(--gold)!important}
.hidden{display:none}

/* Loader */
#loader{
  position:fixed;inset:0;
  background:#000;
  display:flex;
  justify-content:center;
  align-items:center;
  z-index:9999;
}
.loader-dot{
  width:14px;height:14px;
  background:var(--gold);
  border-radius:50%;
  margin:5px;
  animation:bounce 1s infinite alternate;
}
.loader-dot:nth-child(2){animation-delay:.2s}
.loader-dot:nth-child(3){animation-delay:.4s}
@keyframes bounce{
  to{transform:translateY(-16px);opacity:.3}
}
</style>
</head>

<body>

<!-- LOADER -->
<div id="loader">
  <div class="loader-dot"></div>
  <div class="loader-dot"></div>
  <div class="loader-dot"></div>
</div>

<!-- NAV -->
<nav class="navbar navbar-dark fixed-top px-4">
  <span class="fw-semibold text-warning">Matchfit ID</span>
  <div>
    <button class="btn btn-sm btn-outline-warning me-2" onclick="show('login')">Sign In</button>
    <button class="btn btn-sm btn-gold" onclick="logout()">Logout</button>
  </div>
</nav>

<!-- HERO -->
<section id="home" class="hero">
<div class="hero-bg"></div>
<div class="container position-relative text-center">
  <h1 class="display-4 mb-4">Style That Understands You</h1>
  <p class="text-light fs-5 mb-5">
    AI body analysis • Smart color matching • Virtual try-on
  </p>
  <button class="btn btn-gold btn-lg" onclick="protectedAccess()">
    Try Free for 1 Month
  </button>
</div>
</section>

<!-- FEATURES -->
<section class="section">
<div class="container">
<div class="row g-4">
  <div class="col-md-4">
    <div class="card p-4 feature h-100">
      <h5>AI Body Shape</h5>
      <p class="text-muted">Deteksi proporsi & bentuk tubuh otomatis</p>
    </div>
  </div>
  <div class="col-md-4">
    <div class="card p-4 feature h-100">
      <h5>AI Mix & Match</h5>
      <p class="text-muted">Outfit selaras dengan warna & acara</p>
    </div>
  </div>
  <div class="col-md-4">
    <div class="card p-4 feature h-100">
      <h5>Virtual Try-On</h5>
      <p class="text-muted">Coba outfit secara realistis</p>
    </div>
  </div>
</div>
</div>
</section>

<!-- LOGIN -->
<section id="login" class="section hidden">
<div class="container">
<div class="col-md-4 mx-auto card p-4">
  <h3 class="mb-4 text-center">Welcome Back</h3>
  <input id="lEmail" class="form-control mb-3" placeholder="Email">
  <input id="lPass" type="password" class="form-control mb-4" placeholder="Password">
  <button class="btn btn-gold w-100" onclick="login()">Sign In</button>
  <p class="text-center mt-3">
    New user? <a href="#" onclick="show('register')" class="text-warning">Create account</a>
  </p>
</div>
</div>
</section>

<!-- REGISTER -->
<section id="register" class="section hidden">
<div class="container">
<div class="col-md-4 mx-auto card p-4">
  <h3 class="mb-4 text-center">Create Account</h3>
  <input id="rName" class="form-control mb-2" placeholder="Full Name">
  <input id="rEmail" class="form-control mb-2" placeholder="Email">
  <input id="rPass" type="password" class="form-control mb-4" placeholder="Password">
  <button class="btn btn-gold w-100" onclick="register()">Register</button>
</div>
</div>
</section>

<!-- DASHBOARD -->
<section id="dashboard" class="section hidden">
<div class="container">
<h2 class="mb-4">Your Style Dashboard</h2>
<div class="card p-4">
  <p class="text-muted">Allow camera or upload photo for AI analysis</p>
  <button class="btn btn-outline-warning me-2" onclick="camera()">Allow Camera</button>
  <button class="btn btn-gold" onclick="analyze()">Get Recommendation</button>
</div>
<div id="result" class="mt-4"></div>
</div>
</section>

<script>
setTimeout(()=>loader.style.display="none",1300)

function show(id){
  document.querySelectorAll("section").forEach(s=>s.classList.add("hidden"))
  document.getElementById(id).classList.remove("hidden")
}

const hash=p=>btoa(p)

function register(){
  if(rPass.value.length<6)return alert("Password minimal 6 karakter")
  let u=JSON.parse(localStorage.getItem("users")||"[]")
  u.push({e:rEmail.value,p:hash(rPass.value)})
  localStorage.setItem("users",JSON.stringify(u))
  show("login")
}

function login(){
  let u=JSON.parse(localStorage.getItem("users")||"[]")
  let f=u.find(x=>x.e==lEmail.value && x.p==hash(lPass.value))
  if(!f)return alert("Wrong email or password")
  localStorage.setItem("session",JSON.stringify(f))
  show("dashboard")
}

function logout(){
  localStorage.removeItem("session")
  show("home")
}

function protectedAccess(){
  localStorage.getItem("session")?show("dashboard"):show("login")
}

function camera(){
  navigator.mediaDevices.getUserMedia({video:true})
  .then(()=>alert("Camera access granted"))
  .catch(()=>alert("Camera access denied"))
}

function analyze(){
  anime({targets:'#result',opacity:[0,1],translateY:[20,0],duration:700})
  result.innerHTML=`
  <div class="card p-4">
    <h4>AI Recommendation</h4>
    <p><b>Body Shape:</b> Hourglass</p>
    <p><b>Style Match:</b> Elegant, Minimal Luxury</p>
    <button class="btn btn-gold me-2">Virtual Try-On</button>
    <button class="btn btn-outline-warning">Shop Outfit</button>
  </div>`
}

if(localStorage.getItem("session"))show("dashboard")
</script>

</body>
</html>
